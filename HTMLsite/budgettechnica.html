
<!DOCTYPE html>
<html>
<head>
   <link rel = "stylesheet" href = "./stylesheets/style.css" >
</head>


<form>
    <select name = "subject" id="subject">
        <optgroup label="Neccesities">
  	<option value="Bills" id="Bills">Bills</option>
    <option value="Groceries" id="Groceries">Groceries</option>
    <option value="Transportation" id="Transportation">Transportation</option>
  </optgroup>
  <optgroup label="Discretionary">
    <option value="Shopping"id="Shopping">Shopping</option>
     <option value="Entertainment"id="Entertainment">Entertainment</option>
  </optgroup>
    </select>
    


<label for="money">Enter the amount you spent:</label>
<input type="number" step="0.01" id="number"/>
<br>
<label for="money">Enter the amount you earned:</label>
<input type="number" step="0.01" id="earnings"/>
<input type = "button" onclick = "myfunc()" value = "Submit" id="submitB">


<div id="moneyEarned"></div>
<div id="Bill"></div>
<div id="Grocery"></div>
<div id="Transport"></div>
<div id="Shoppe"></div>
<div id="Entertain"></div>
<div id="piechart"></div>

<div id="moneyLeft"></div>


<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">

var bill = 0.0;
var groc = 0.0
var trans = 0.0
var shop = 0.0
var ent = 0.0
var monEarn = 0.0
var zero0 = 0

function myfunc() {
    
	var money = document.getElementById("number").value;

    monEarn = parseFloat(document.getElementById("earnings").value) + parseFloat(monEarn)

	if (document.getElementById("subject").value == "Bills"){
   		bill = parseFloat(money) + parseFloat(bill);
        //document.getElementById("Bill").innerHTML = "Bills: " + bill.toString();
    }

    if (document.getElementById("subject").value == "Groceries"){
   		groc = parseFloat(money) + parseFloat(groc);
        //document.getElementById("Grocery").innerHTML = "Groceries: " + groc.toString();
    }

    if (document.getElementById("subject").value == "Transportation"){
   		trans = parseFloat(money) + parseFloat(trans);
        //document.getElementById("Grocery").innerHTML = "Groceries: " + groc.toString();
    }

    if (document.getElementById("subject").value == "Shopping"){
   		shop = parseFloat(money) + parseFloat(shop);
        //document.getElementById("Grocery").innerHTML = "Groceries: " + groc.toString();
    }

    if (document.getElementById("subject").value == "Entertainment"){
   		ent = parseFloat(money) + parseFloat(ent);
        //document.getElementById("Grocery").innerHTML = "Groceries: " + groc.toString();
    }
    
    
    document.getElementById("Grocery").innerHTML = "Groceries: " + groc.toFixed(2).toString();

    
    document.getElementById("Transport").innerHTML = "Transportation: " + trans.toFixed(2).toString();
    
    
    document.getElementById("Shoppe").innerHTML = "Shopping: " + shop.toFixed(2).toString();
    
    
    document.getElementById("Entertain").innerHTML = "Entertainment: " + ent.toFixed(2).toString();

    //fors ome reason, this goes under the pie chart after second submit, figure out why
    document.getElementById("moneyEarned").innerHTML = "Money Earned: " + monEarn.toFixed(2).toString();

    //Money left code
    //Hm for some reason, this code isn't working, but there is an input for
    //income if you want to use that
    //var monLeft = parseFloat(document.getElementById("earnings").value) - 
    //(parseFloat(bill) + parseFloat(groc) + parseFloat(trans) + parseFloat(shop) + parseFloat(ent));
   //document.getElementById("MoneyLeft").innerHTML = monLeft.toString();    

    //Pie chart stuff
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
    function drawChart() {
    var data = google.visualization.arrayToDataTable([
    ['Task', 'Hours per Day'],
    ['Bills', bill],
    ['Groceries', groc],
    ['Transportation', trans],
    ['Shopping', shop],
    ['Entertainment', ent]
    ]);

    // Optional; add a title and set the width and height of the chart
    //var options = {'title':'My Average Day', 'width':550, 'height':400};
    var options = {'width':550, 'height':400};

    // Display the chart inside the <div> element with id="piechart"
    var chart = new google.visualization.PieChart(document.getElementById('piechart'));
    chart.draw(data, options);
    }




}






</script>


</form>
</html>